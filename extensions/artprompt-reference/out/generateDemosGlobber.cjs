"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const glob_cjs_1 = require("./glob.cjs");
const node_fs_1 = require("node:fs");
const node_path_1 = require("node:path");
const thisFileName = (0, node_path_1.basename)(process.argv[1]);
const thisFileAbsolute = (0, node_path_1.resolve)(__dirname, thisFileName);
const thisFilePathAppUIRelative = (0, node_path_1.relative)(appUIDir(), thisFileAbsolute);
const outFileAbsolute = appUIDir("src/ui/playground/_demos.ts");
const outFilePathAppUIRelative = (0, node_path_1.relative)(appUIDir(), outFileAbsolute);
const outFolder = (0, node_path_1.resolve)(outFileAbsolute, "..");
const fileImports = (0, glob_cjs_1.globSync)(appUIDir("src/**/*.demos.tsx")).map((filePath) => `import ${JSON.stringify((0, node_path_1.relative)(outFolder, filePath)
    .replace(/\.tsx?$/, "")
    // ensure imports all use relative paths
    .replace(/^([^.])/, "./$1"))};`);
const write = [
    `/**
 * Generated by ${thisFileName}
 * See ${(0, node_path_1.relative)(outFolder, thisFileAbsolute)}
 */`,
    ...fileImports,
    "",
].join("\n");
// console.log({
//   outFile,
//   write,
// });
(0, node_fs_1.writeFileSync)(outFileAbsolute, write);
console.error(`Wrote out demos globber via ${thisFilePathAppUIRelative} to ${outFilePathAppUIRelative}`);
function appUIDir(...path) {
    return (0, node_path_1.resolve)(__dirname, "../..", ...path);
}
//# sourceMappingURL=generateDemosGlobber.cjs.map